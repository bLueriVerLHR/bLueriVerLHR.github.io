# 组合逻辑电路

组合逻辑电路，简称组合电路。

组合电路的特点是电路任意时刻的输出状态只取决于该时刻的输入状态，而与该时刻前的电路状态无关。

组合电路的输出状态和电路的过去状态无关，那么电路就不需要包含有记忆性的器件。这就决定了组合电路由各种门电路构成。

## 小规模集成电路的组合电路的分析与设计

组合电路的分析是指找出组合电路逻辑功能的过程。

组合电路的设计是指按照给定的具体逻辑命题，求出**最简单**的逻辑电路的过程。

### 分析方法

分析组合电路的目的是找出其逻辑功能，使用真值表来表示电路的逻辑功能是最为直观的。

由小规模集成电路构成的组合电路的分析，通常：

1. 先根据给定的逻辑电路，由输入到输出逐级写出逻辑函数表达式；
2. 利用公式或者卡诺图对其进行简化，进而获得最简的逻辑表达式。

### 设计方法

组合电路的设计是指按照给定的逻辑命题，设计出能实现其逻辑功能的电路。

设计过程如下：

1. 列真值表；
    - 通常给出的设计要求是用文字描述的一个具有**固定因果关系**的事件。
    - 根据事件里的固定的因果关系，找出变量和应变量，对变量赋值，绘制真值表。
2. 写出逻辑函数表达式；
3. 对逻辑函数进行化简或变换；
    - 如果命题选定了器件，还需将最简式变换成相应的形式。
4. 根据简化的逻辑函数表达式画出逻辑图。

## 编码器

在数字系统中，常需将有特定意义的信息（如数字、符号等），编成若干二进制代码，这一过程称为编码。实现编码的数字电路称为编码器。
由于数字系统在处理数据时候，采用二进制运算，因此采用二进制代码或者二-十进制代码。与之相对应的编码器，则称为二进制编码器，二-十进制编码器。

这里我们可以抽象的理解，编码器的工作是：`信息 --> 编码`，所以我们称呼其为编码器。

### 二进制编码器

三位二进制编码器

![三位二进制编码器](../../_media/pics/numerical_logic_system/2-1.png)

### 优先编码器

三位二进制编码器在编码时，只允许一个输入端加入有效输入信号，否则编码器的输出就会产生混乱。而优先编码器允许同时在几个输入端加入有效输入信号。但是，它根据设计编码器时已经规定好的信号优先编码级别，选择其中相对优先级最高的输入信号进行编码。

> 优先级是人为规定的，而编码器遵循规定的行为是设计出来的。

74148

![优先编码器74148的逻辑图](../../_media/pics/numerical_logic_system/2-2.png)

![优先编码器74148的真值表](../../_media/pics/numerical_logic_system/2-3.png)

- 16-4线优先编码器

试用两片74148接成16-4线优先编码器，输出编码为原码形式。

![16-4线优先编码器真值表](../../_media/pics/numerical_logic_system/2-4.png)

![16-4线优先编码器解释](../../_media/pics/numerical_logic_system/2-5.png)

![16-4线优先编码器逻辑图](../../_media/pics/numerical_logic_system/2-6.png)


## 译码器

译码是编码的逆过程，它将编码时候赋予代码的含义“翻译”过来。实现译码的逻辑电路称为译码器。译码器的输入与输出代码有唯一的对应关系。

这里我们可以抽象的理解，编码器的工作是：`编码 --> 信息`，所以我们称呼其为译码器。

### 二进制译码器

二进制译码器的输入为一组二进制代码，而输出则是一组高、低电平信号。

74138

![3-8线译码器74138的逻辑图](../../_media/pics/numerical_logic_system/2-7.png)

![3-8线译码器74138的真值表](../../_media/pics/numerical_logic_system/2-8.png)

4-16线译码器

![题目和解析](../../_media/pics/numerical_logic_system/2-9.png)

![方案一](../../_media/pics/numerical_logic_system/2-10.png)

![方案二](../../_media/pics/numerical_logic_system/2-11.png)

### 二-十进制译码器

二-十进制译码器的输入为一组 BCD 码，输出则是一组高、低电平信号。二-十进制译码器按输入、输出线数又称为4-10线译码器。

CD4028

![CD4028逻辑图](../../_media/pics/numerical_logic_system/2-12.png)

![CD4028真值表](../../_media/pics/numerical_logic_system/2-13.png)

### 七段字形译码器

数码管是数码显示器的俗称。常用的数码显示器有半导体数码管、荧光数码管、辉光数码管和液晶显示屏等。

半导体数码管是用发光二极管（LED）组成的字形来显示数字的，七条形发光二极管排列成7段组合字形，便构成了半导体数码管。

![半导体数码管](../../_media/pics/numerical_logic_system/2-14.png)

半导体数码管有共阳极和共阴极两种类型。

共阳极数码管的7个发光二极管的阳极接在一起，而七个阴极是独立的。

共阴极数码管和共阳极数码管相反。

共阴极数码管的7个发光二极管的阴极接在一起，而七个阳极是独立的。

当共阳极数码管的某一阴极接低电平时候，相应的二极管发光，所以共阳极数码管需要输出低电平有效的译码器去驱动。共阴极数码管则需要输出高电平有效的译码器去驱动。

74LS47

![74LS47的真值表](../../_media/pics/numerical_logic_system/2-15.png)

![二-十进制七段译码器74LS47的逻辑图](../../_media/pics/numerical_logic_system/2-18.png)

![74LS47的附加功能 1](../../_media/pics/numerical_logic_system/2-16.png)

![74LS47的附加功能 2](../../_media/pics/numerical_logic_system/2-17.png)

![8位数字显示系统的灭零控制](../../_media/pics/numerical_logic_system/2-19.png)

![共阳极和共阴极](../../_media/pics/numerical_logic_system/2-20.png)

## 数据分配器与数据选择器

### 数据分配器

在数据传输过程中，有时需要将某一路数据分配到不同的数据通道上，能够完成这种功能的电路称为数据分配器（也称为多路分配器或多路调节器），简称 `DEMUX`，其电路为单输入、多输出形式。

其功能如同开关接通一样，将D送到选择变量取值指定的通道。如图，其中虚线框内表示一个数据分配器，K受选择变量A,B的控制。

![数据分配器示意图](../../_media/pics/numerical_logic_system/2-21.png)

4路数据分配器的逻辑图和真值表如下，D为被传输的数据输入端，A,B是选择输入端，$W_0~W_3$ 为数据输出端（称为数据通道）。

$$W_0=D\overline{A}\space\overline{B}$$
$$W_1=D\overline{A}B$$
$$W_2=DA\overline{B}$$
$$W_3=DAB$$

可见，数据分配器实质上是地址译码器和数据D的组合，因而选择输入端有时也称为地址选择输入端。故而，数据分配器的功能可用译码器来实现。3-8线译码器74138有三个地址输入端，三个控制输入端，8个输出端，利用74138可以实现8路数据分配。

![4路数据分配器逻辑图和真值表](../../_media/pics/numerical_logic_system/2-22.png)

![4路数据分配器逻辑图和真值表](../../_media/pics/numerical_logic_system/2-24.png)

### 数据选择器

数据选择器又叫多路开关，简称 `MUX`（Multiplexer）。数据选择器的逻辑功能是在地址选择信号的控制下，从多路数据中选择一路数据作为输出信号。

![数据选择器原理示意图](../../_media/pics/numerical_logic_system/2-23.png)

下图出示了双四选一数据选择器74153的逻辑图。在控制端输入电平有效，即 $\overline{E}=\overline{E'}=0$ 时，数据选择器的输出逻辑函数表达式为：

$$F_1=\overline{A_1}\space\overline{A_0}D_0+\overline{A_1}A_0D_1+A_1\overline{A_0}D_2+A_1A_0D_3$$
$$F_1=\overline{A_1}\space\overline{A_0}D_0'+\overline{A_1}A_0D_1'+A_1\overline{A_0}D_2'+A_1A_0D_3'$$

当 $\overline{E}=\overline{E'}=1$ 时，$F_1=F_2=0$。

![双四选一数据选择器74153的功能表](../../_media/pics/numerical_logic_system/2-25.png)

![双四选一数据选择器74153的逻辑图](../../_media/pics/numerical_logic_system/2-26.png)

如下是八选一数据选择器74151的功能表。

![八选一选择器74151的功能表](../../_media/pics/numerical_logic_system/2-27.png)

![74153接成八选一选择器74151](../../_media/pics/numerical_logic_system/2-28.png)

## 数值比较电路

数值比较电路是用来比较两个二进制数的大小或是否相等的电路。

### 比较原理

比如 $A=A_3A_2A_1A_0$ 和 $B=B_3B_2B_1B_0$，从最高位 $A_3$ 开始比较，结果只会是 $A=B,A>B,A<B$ 三种情况之一。

### 一位数值比较器

![一位数值比较器](../../_media/pics/numerical_logic_system/2-29.png)

### 四位数值比较器

两个4位二进制数进行比较时，输出和输入的关系按前面叙述的比较原理设计，其真值表如下表。除了两个4位二进制数输入端之外，又增加了多个芯片级联用的输入端，用来输入低4位的比较结果。

![4位数值比较器的真值表](../../_media/pics/numerical_logic_system/2-30.png)

![4位数值比较器的逻辑图](../../_media/pics/numerical_logic_system/2-31.png)

![4位数值比较器逻辑表达式](../../_media/pics/numerical_logic_system/2-32.png)

![4位数值比较器的引脚图](../../_media/pics/numerical_logic_system/2-33.png)

## 算数运算电路

### 二进制加法电路

两个n位二进制数相加的过程是，从最低有效位开始相加，形成和数并传送进位，最后得到结果。最低位只有加数和被加数相加，这种两个一位数相加称为半加；完成加数、被加数、低位的进位数三个一位数相加称为全加。实现半加运算的电路称为半加器，实现全加运算的电路称为全加器。

1. 半加器

![半加器](../../_media/pics/numerical_logic_system/2-34.png)

2. 全加器

![全加器](../../_media/pics/numerical_logic_system/2-35.png)

#### 加法器

实现多位二进制加法运算的电路称为加法器。按各位数相加方式不同可分为串行加法器和并行加法器。

- 串行加法器采用串行运算方式，从二进制数的最低位开始逐位相加到最高位，最后得出和数。
- 并行加法器采用并行运算方式，即两个数各位同时相加。

由于串行加法器总是从最低位开始加到最高位，运算速度比并行加法器慢得多，因此目前并行加法器应用广泛。并行加法器又可以按照进位方式分为串行进位并行加法器和超前进位并行加法器两种。

1. 串行进位并行加法器

![串行进位并行加法器](../../_media/pics/numerical_logic_system/2-36.png)

2. 超前进位并行加法器

![超前进位并行加法器逻辑图和引脚图](../../_media/pics/numerical_logic_system/2-37.png)

![超前进位并行加法器 1](../../_media/pics/numerical_logic_system/2-38.png)

![超前进位并行加法器 2](../../_media/pics/numerical_logic_system/2-39.png)

### 二进制减法电路

减法电路

在数字系统中，常常要变减法为加法运算。

![二进制正、负数表示方法](../../_media/pics/numerical_logic_system/2-40.png)

减法电路思路：

1. 用补码完成减法运算
    - 用补码表示正、负数，$X$ 与 $Y$ 的减法运算便可写成 $X-Y=X+(-Y)$ 的补码加法运算。
2. 求反电路
3. 原码输出二进制减法电路

![2、3方式](../../_media/pics/numerical_logic_system/2-41.png)

## 算术逻辑单元

算术逻辑单元（ALU）是一种集多种运算功能于一体的运算电路。它能按照控制信号的规定执行某种运算或者逻辑运算。它是在全加器基础上增加一些逻辑门及功能选择控制端，其结果不但能进行两个输入数的加法、减法等算数运算，也能实现与、与非、或、或非、异或、数码比较等逻辑操作。因此它被称为算术逻辑单元，常用 ALU 表示。

数据输入端的二进制代码其含义可以是参加运算的数据，也可以是代表特定含义的信息。

![ALU 1](../../_media/pics/numerical_logic_system/2-42.png)

![ALU 2](../../_media/pics/numerical_logic_system/2-43.png)

![ALU 3](../../_media/pics/numerical_logic_system/2-44.png)

![ALU 4](../../_media/pics/numerical_logic_system/2-45.png)

## 奇偶校验电路

在数字设备中，数据的传输是大量的，且传输的数据都是由若干位二进制代码0和1组合而成。系统内部或者外部干扰等原因，可能使得数据信息在传输过程中产生错误。奇偶校验器就是能自动检验数据信息传送过程中是否出现误传的逻辑电路。

### 奇偶校验的基本原理

![奇偶校验原理](../../_media/pics/numerical_logic_system/2-46.png)

![3位二进制码的奇偶校验逻辑图](../../_media/pics/numerical_logic_system/2-47.png)

### 中规模集成奇偶发生器/校验器

![中规模集成奇偶发生器/校验器 1](../../_media/pics/numerical_logic_system/2-48.png)

![中规模集成奇偶发生器/校验器 2](../../_media/pics/numerical_logic_system/2-49.png)

![中规模集成奇偶发生器/校验器 3](../../_media/pics/numerical_logic_system/2-50.png)

## 中规模集成电路构成的组合电路的设计

步骤一般如下：

1. 列真值表；
2. 写出逻辑函数表达式；
3. 将第2步得到的逻辑函数变换成与所用的中规模集成电路逻辑函数式相似的形式。
> 用中规模集成电路（MSI）设计组合电路的基本方法是**对比法**。
>
> 1. 组合电路的逻辑函数表达式与 MSI 的逻辑函数表达式相比较；
> 2. 用组合电路的真值表与 MSI 的真值表相比较。
>
> 比较可能出现以下情况：
>
> 1. 若组合电路的逻辑函数和某种 MSI 的逻辑函数的形式一样（真值表形式一样），则选该种 MSI 效果最好；
> 2. 若组合电路的逻辑函数表达式是某种 MSI 的逻辑函数式的一部分，则只要对多出的输入变量和乘积项进行适当的处理（接1或接0），就可以方便地得到组合电路的逻辑函数；
> 3. 若 MSI 的逻辑函数是组合电路的逻辑函数表达式的一部分，则可以用多片 MSI 和少量逻辑门进行拓展的方法得到组合电路的逻辑函数；
> 4. 多输入、单输出的组合电路的逻辑函数，选用数据选择器比较方便；
> 5. 多输入、多输出的组合电路的逻辑函数，选用译码器和逻辑门比较方便；
> 6. 由于可使用的 MSI 的品种有限，因此，如果组合电路的逻辑函数与 MSI 的逻辑函数相同之处很少，则不宜选用这几种 MSI。
4. 根据对比结果，画出逻辑图。

在用 MSI 设计组合电路的时候，不应拘泥于上述过程。

> 巧妙利用 MSI 的控制端，会使电路更加简单。

## 组合逻辑电路的竞争-冒险

### 竞争-冒险的产生

组合电路的输入是稳定的逻辑电平时，是不会产生竞争-冒险现象的。

**竞争**是指逻辑门的两个输入信号从不同电平同时向相反电平跳变的现象。

例如：一个与非门有两个输入信号A和B，当A由0变为1，B由1变为0时，就存在竞争现象。

由于竞争的存在，在门电路的输出端产生与逻辑电平相违背的尖脉冲现象称为**竞争-冒险**。但并不是说有竞争的存在，就一定产生竞争-冒险现象。

![竞争-冒险 1](../../_media/pics/numerical_logic_system/2-51.png)

![竞争-冒险 2](../../_media/pics/numerical_logic_system/2-52.png)

![竞争-冒险 3-1](../../_media/pics/numerical_logic_system/2-53.png)

![竞争-冒险 3-2](../../_media/pics/numerical_logic_system/2-54.png)

### 竞争-冒险的判断

![竞争-冒险的判断](../../_media/pics/numerical_logic_system/2-55.png)

### 竞争-冒险的消除

![竞争-冒险的消除](../../_media/pics/numerical_logic_system/2-56.png)



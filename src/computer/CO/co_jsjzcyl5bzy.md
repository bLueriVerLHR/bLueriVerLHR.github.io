> 《计算机组成原理》
> 第五版
> 白中英 编著
> 科学出版社

# 计算机系统概论

计算机是一个由硬件、软件组成的复杂的自动化设备。

## 计算机的分类

电子计算机从总体上来说分为两大类

1. 电子模拟计算机，模拟取相似含义。模拟计算机的特点是数值由连续量来表示，运算过程也是连续的。
2. 电子数字计算机，基于算盘发展而来，使用数字来表示数量的大小。数字计算机的主要特点是按位运算，并且不连续的跳动计算。

|比较内容|数字计算机|模拟计算机|
|-|-|-|
|数据表示方式|数字 0 和 1|电压|
|计算方式|数字计数|电压组合和测量值|
|控制方式|程序控制|盘上连线|
|精度|高|低|
|数据存储量|大|小|
|逻辑判断能力|强|无|

电子模拟计算机由于精度和解题能力都有限，所以应用范围较小。而电子数字计算机以近似人脑的方式进行工作，故被称为 **电脑**。它的发明和发展是 20 世纪人类最伟大的科学技术成就之一，也是现代科学技术发展水平的主要标志。习惯上所称的 **电子计算机**，一般是指现在广泛应用的电子数字计算机。

数字计算机进一步可分为：

- 专用计算机
- 通用计算机

划分标准：计算机的效率、速度、价格、运行的经济性和适应性来划分。

- 专用机是最有效、最经济和最快速的计算机，但是它适应性很差。
- 通用计算机适应性很大，但是牺牲了效率、速度和经济性。

通用计算机可分为：

- 超级计算机
- 大型机
- 服务器
- PC 机
- 单片机
- 多核机

以上六类。它们区别在于：体积、简易性、功率损耗、性能指标、数据存储量、指令系统规模和机器价格。

- 超级计算机主要用于科学计算，其运算速度在每秒万亿次以上，数据存储容量很大，结构复杂，价格昂贵。
- 单片机只由一片集成电路制成，体积小，结构简单，性能指标较低，价格便宜。
- 介于上两者之间的通用计算机，按照列出的顺序，结构规模和性能指标依次递减。

专用计算机是针对某一任务设计的计算机，一般来说，其结构要比通用计算机简单。

## 计算机的发展史

<!-- TODO：历史 -->

### 计算机的性能指标

- 吞吐量，表征一台计算机在某一时间间隔内能够处理的信息量。
- 响应时间，表征从输入有效到系统产生响应之间的时间度量，用时间单位来度量。
- 利用率，在给定的时间间隔内系统被实际使用的时间所占的比率，用百分比表示。
- 处理机字长，指处理机运算器中一次能够完成二进制数运算的位数，如 32 位、64 位。
- 总线宽度，一般指 CPU 中运算器与存储器之间进行互连的内部总线二进制位数。
- 存储器容量，存储器中所有存储单元的总数目，通常用 KB、MB、GB、TB 来表示。
- 存储器带宽，单位时间内从存储器读出的二进制数信息量，一般用字节数/秒来表示。
- 主频/时钟周期，CPU 的工作节拍受时钟控制，主时钟不断产生固定频率的时钟，主时钟频率（$f$）叫 CPU 的主频。度量单位是 MHz（兆赫兹）、GHz（吉赫兹）。主频倒数称为 CPU 的时钟周期（$T$），$T = 1 / f$，度量单位是 $\mu s$、$ns$。
- CPU 执行时间，表示 CPU 执行一般程序所占用的 CPU 时间，可用公式计算：`CPU 执行时间 = CPU 时钟周期数 * CPU 时钟周期`。
- CPI，表示每条指令周期数，即执行一条指令所需的平均时钟周期数，可用公式计算：`CPI = 执行某段程序所需的 CPU 时钟周期数 / 程序包含的指令条数`。
- MIPS（Million Instructions Per Second），表示平均每秒执行多少百万条定点指令数，可用公式计算：`MIPS = 指令数 / (程序执行时间 * 10^6)`。
- FLOPS（Floating-point Operation Per Second）的缩写，表示每秒执行浮点数操作的次数，用来衡量机器浮点数操作的性能。可用公式计算：`FLOPS = 程序中的浮点数操作次数 / 程序执行时间`。

## 计算机硬件

### 硬件组成要素

在电子计算机中，执行计算功能的是 **运算器**；存储数据的是 **存储器**；将结果显示出来或者将数据输入的是 **输入设备** 和 **输出设备**；自动控制整个计算过程的，称之为 **控制器**。

### 运算器

运算器的主要功能是进行加、减、乘、除等算术运算。除此之外，还可以进行逻辑运算，因此通常称为 ALU（算术逻辑运算部件）。

由于电子器件的特性，计算机中通常采用二进制数。二进制数是以 2 为基数来计算的，也就是“逢二进一”。

- 在二进制数中，只有 0 和 1 这两个数字。1 和 0 可以用电压的高低、脉冲的有无来表示。这种电压的高低，脉冲的有无，在电子器件中很容易实现，而且设备也最省。
- 二进制数的运算非常简单。也由于二进制数运算规律简单，在电子器件中比较容易实现，因此电子数字计算机中广泛采用二进制数。

二进制数和十进制数一样，在运算中，当数的位数越多时，计算的精度就越高。理论上说，数的位数可以任意多。但是位数越多，所需的电子器件也越多，成本也随之增加，因此计算机的运算器长度一般是 8 位、16 位、32 位、64 位。

### 存储器

存储器的功能是保存数据和指令。这里，数据和指令都是以二进制形式表示，也都以二进制形式保存。

目前采用半导体器件作为存储器。一个半导体触发器有 0 和 1 两个状态，可以记忆一个二进制代码。一个数字假定用 16 位二进制代码来表示，那么就需要有 16 个触发器来保存这些代码。

通常，在存储器中把保存一个数的 16 个触发器称为一个 **存储单元**。存储器是由许多存储单元组成的。每个存储单元都有编号，称为 **地址**。向存储器中存数或者从存储器中取数，都要按给定的地址来寻找所选的存储单元。

存储器所有存储单元的总数称为存储器的 **存储容量**，通常用单位 KB、MB 来表示。存储容量越大，表示计算机存储的信息越多。

半导体存储器的存储容量毕竟有限，因此计算机中又配备了存储容量更大的磁盘存储器和光盘存储器，称为 **外存储器**。相对而言，半导体存储器称为 **内存储器**，简称内存。

### 控制器

控制器是计算机中发送控制信号的单元。

1. 计算程序

运算器只能完成加、减、乘、除四则运算及其他一些辅助操作。对于比较复杂的计算题目，计算机在运算前必须化成一步一步简单的加、减、乘、除等基本操作来做。

每一个基本操作就叫做一条 **指令**，而解算某一问题的一串指令序列，叫做该问题的 **计算程序**，简称为程序。

2. 指令的形式

每条指令应当明确告诉控制器，从存储器的哪个单元取数，并进行何种操作。指令的内容由两部分组成，即操作的性质和操作数的地址。前者称为 **操作码**，后者称为 **地址码**。

指令数码化以后，就可以和数据一样放入存储器。存储器的任何位置既可以存放数据也可以存放指令，不过一般是将指令和数据分开存放。

将指令程序存放到存储器中称为 **存储程序**，而控制器依据存储的程序来控制全机协调地完成计算任务叫做 **程序控制**。存储程序并按地址顺序执行，这就是冯诺依曼型计算机的设计思想，也是机器自动化工作工作的关键。由于指令和数据放在用一个存储器，称为 **冯-诺依曼结构**，如果指令和数据分别放在两个存储器，称为 **哈佛结构**。

> 本书：显然后者结构的计算机速度更快。

一台计算机通常有几十种基本指令，从而构成了该计算机的 **指令系统**。指令系统不仅是硬件设计的依据，而且是软件设计的基础。因此，指令系统是衡量计算机性能的一个重要标志。

3. 控制器的基本任务

